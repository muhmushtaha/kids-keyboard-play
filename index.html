<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Keyboard Play Time! 🎹✨</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      font-family: 'Comic Sans MS', 'Arial', sans-serif;
      cursor: default;
      user-select: none;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      background: linear-gradient(45deg, #FF6B6B, #4ECDC4, #45B7D1, #FFA07A, #98D8C8);
      background-size: 400% 400%;
      animation: gradientShift 15s ease infinite;
    }

    @keyframes gradientShift {
      0% {
        background-position: 0% 50%;
      }

      50% {
        background-position: 100% 50%;
      }

      100% {
        background-position: 0% 50%;
      }
    }

    #container {
      width: 100%;
      height: 100%;
      position: relative;
      overflow: hidden;
    }

    #effects-container {
      width: 100%;
      height: 100%;
      position: relative;
      overflow: hidden;
    }

    .exit-button {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 12px 24px;
      background: rgba(255, 255, 255, 0.9);
      border: 3px solid #333;
      border-radius: 12px;
      font-size: 18px;
      font-weight: bold;
      color: #333;
      cursor: pointer;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
      z-index: 10000;
    }

    .exit-button:hover {
      background: rgba(255, 100, 100, 0.9);
      color: white;
      transform: scale(1.1);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
    }

    .visual-effect {
      position: absolute;
      pointer-events: none;
      will-change: transform, opacity;
    }

    /* Shape styles */
    .shape-circle {
      border-radius: 50%;
    }

    .shape-square {
      border-radius: 10%;
    }

    .shape-star {
      font-size: 60px;
      line-height: 1;
      text-align: center;
    }

    .shape-heart {
      font-size: 60px;
      line-height: 1;
      text-align: center;
    }

    .shape-emoji {
      font-size: 60px;
      line-height: 1;
      text-align: center;
    }

    /* Animations */
    @keyframes bounce {

      0%,
      100% {
        transform: translateY(0) scale(1);
      }

      25% {
        transform: translateY(-30px) scale(1.1);
      }

      50% {
        transform: translateY(0) scale(1);
      }

      75% {
        transform: translateY(-15px) scale(1.05);
      }
    }

    @keyframes spin {
      from {
        transform: rotate(0deg);
      }

      to {
        transform: rotate(360deg);
      }
    }

    @keyframes pulse {

      0%,
      100% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.3);
      }
    }

    @keyframes wiggle {

      0%,
      100% {
        transform: rotate(0deg);
      }

      25% {
        transform: rotate(-15deg);
      }

      75% {
        transform: rotate(15deg);
      }
    }

    @keyframes fadeOut {
      0% {
        opacity: 1;
      }

      70% {
        opacity: 1;
      }

      100% {
        opacity: 0;
      }
    }

    @keyframes floatUp {
      from {
        transform: translateY(0);
        opacity: 1;
      }

      to {
        transform: translateY(-200px);
        opacity: 0;
      }
    }

    @keyframes rainbow {
      0% {
        filter: hue-rotate(0deg);
      }

      100% {
        filter: hue-rotate(360deg);
      }
    }

    .anim-bounce {
      animation: bounce 1s ease-in-out, fadeOut 3s ease-out forwards;
    }

    .anim-spin {
      animation: spin 2s linear, fadeOut 3s ease-out forwards;
    }

    .anim-pulse {
      animation: pulse 0.5s ease-in-out 3, fadeOut 3s ease-out forwards;
    }

    .anim-wiggle {
      animation: wiggle 0.5s ease-in-out 3, fadeOut 3s ease-out forwards;
    }

    .anim-float {
      animation: floatUp 3s ease-out forwards;
    }

    .anim-rainbow {
      animation: rainbow 2s linear infinite, fadeOut 3s ease-out forwards;
    }

    /* Combo animations */
    .anim-bounce-spin {
      animation: bounce 1s ease-in-out, spin 2s linear, fadeOut 3s ease-out forwards;
    }

    .anim-pulse-wiggle {
      animation: pulse 0.5s ease-in-out, wiggle 0.5s ease-in-out 2, fadeOut 3s ease-out forwards;
    }
  </style>
</head>

<body>
  <div id="container">
    <div id="effects-container"></div>
    <button class="exit-button" onclick="exitPage()">EXIT (Mouse Only)</button>
  </div>

  <script>
    // Audio Context for sound generation
    let audioContext = null;
    let isAudioInitialized = false;

    // Color palette for visual effects
    const colors = [
      '#FF6B6B', '#4ECDC4', '#45B7D1', '#FFA07A', '#98D8C8',
      '#F7DC6F', '#BB8FCE', '#85C1E2', '#F8B739', '#52C3A0',
      '#FF85A2', '#FFD93D', '#6BCF7F', '#A29BFE', '#FD79A8'
    ];

    // Emoji collection
    const emojis = ['🎉', '🌟', '⭐', '🎈', '🎨', '🦄', '🌈', '💫', '✨',
      '🎪', '🎭', '🎸', '🎺', '🎷', '🎵', '🎶', '🔥', '💖',
      '🌺', '🌸', '🦋', '🐠', '🐡', '🦊', '🐨', '🐼', '🦁'];

    // Shape types
    const shapes = ['circle', 'square', 'star', 'heart', 'emoji'];

    // Animation types
    const animations = [
      'anim-bounce', 'anim-spin', 'anim-pulse', 'anim-wiggle',
      'anim-float', 'anim-rainbow', 'anim-bounce-spin', 'anim-pulse-wiggle'
    ];

    // Initialize audio context on first interaction
    function initAudio() {
      if (!isAudioInitialized) {
        audioContext = new (window.AudioContext || window.webkitAudioContext)();
        isAudioInitialized = true;
      }
      if (audioContext.state === 'suspended') {
        audioContext.resume();
      }
    }

    // Generate a random fun sound
    function playSound() {
      if (!audioContext) return;

      const currentTime = audioContext.currentTime;

      // Create oscillator for the main sound
      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();

      // Random frequency (musical note range for kids)
      const frequencies = [262, 294, 330, 349, 392, 440, 494, 523, 587, 659, 698, 784];
      const frequency = frequencies[Math.floor(Math.random() * frequencies.length)];

      // Random wave type (avoid harsh sawtooth)
      const waveTypes = ['sine', 'triangle', 'square'];
      const waveType = waveTypes[Math.floor(Math.random() * waveTypes.length)];

      oscillator.type = waveType;
      oscillator.frequency.setValueAtTime(frequency, currentTime);

      // Add some frequency modulation for extra fun
      if (Math.random() > 0.5) {
        oscillator.frequency.exponentialRampToValueAtTime(
          frequency * 1.5,
          currentTime + 0.1
        );
      }

      // Volume envelope - quick attack, gradual release
      gainNode.gain.setValueAtTime(0, currentTime);
      gainNode.gain.linearRampToValueAtTime(0.3, currentTime + 0.01);
      gainNode.gain.exponentialRampToValueAtTime(0.01, currentTime + 0.3);

      // Connect nodes
      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);

      // Play sound
      oscillator.start(currentTime);
      oscillator.stop(currentTime + 0.3);
    }

    // Create a visual effect
    function createVisualEffect() {
      const container = document.getElementById('effects-container');
      const effect = document.createElement('div');
      effect.className = 'visual-effect';

      // Random shape type
      const shapeType = shapes[Math.floor(Math.random() * shapes.length)];

      // Random size
      const size = 50 + Math.random() * 100;
      effect.style.width = size + 'px';
      effect.style.height = size + 'px';

      // Random position within viewport
      const maxX = window.innerWidth - size;
      const maxY = window.innerHeight - size;
      effect.style.left = Math.random() * maxX + 'px';
      effect.style.top = Math.random() * maxY + 'px';

      // Random color
      const color = colors[Math.floor(Math.random() * colors.length)];

      // Create shape based on type
      if (shapeType === 'emoji') {
        effect.className += ' shape-emoji';
        effect.textContent = emojis[Math.floor(Math.random() * emojis.length)];
      } else if (shapeType === 'star') {
        effect.className += ' shape-star';
        effect.textContent = '⭐';
      } else if (shapeType === 'heart') {
        effect.className += ' shape-heart';
        effect.textContent = '❤️';
      } else {
        effect.className += ' shape-' + shapeType;
        effect.style.backgroundColor = color;
      }

      // Random animation
      const animation = animations[Math.floor(Math.random() * animations.length)];
      effect.className += ' ' + animation;

      // Add to container
      container.appendChild(effect);

      // Remove after animation completes
      setTimeout(() => {
        if (effect.parentNode) {
          effect.parentNode.removeChild(effect);
        }
      }, 3000);
    }

    // Handle keyboard events
    document.addEventListener('keydown', function (event) {
      // Initialize audio on first keypress
      initAudio();

      // Prevent ALL default behaviors
      event.preventDefault();
      event.stopPropagation();

      // Play sound and create visual effect
      playSound();
      createVisualEffect();

      return false;
    }, true);

    // Also capture keyup and keypress to be thorough
    document.addEventListener('keyup', function (event) {
      event.preventDefault();
      event.stopPropagation();
      return false;
    }, true);

    document.addEventListener('keypress', function (event) {
      event.preventDefault();
      event.stopPropagation();
      return false;
    }, true);

    // Prevent context menu (right-click)
    document.addEventListener('contextmenu', function (event) {
      event.preventDefault();
      return false;
    });

    // Prevent text selection
    document.addEventListener('selectstart', function (event) {
      event.preventDefault();
      return false;
    });

    // Prevent beforeunload for accidental closure
    window.addEventListener('beforeunload', function (event) {
      event.preventDefault();
      event.returnValue = '';
      return '';
    });

    // Exit function (mouse-only)
    function exitPage() {
      // Remove beforeunload listener before closing
      window.removeEventListener('beforeunload', arguments.callee);

      if (confirm('Are you sure you want to exit? Click OK to exit.')) {
        // Close the window or go to a blank page
        window.open('about:blank', '_self');
        window.close();
      }
    }

    // Prevent F11 and other fullscreen toggles
    window.addEventListener('keydown', function (event) {
      if (event.key === 'F11' ||
        event.keyCode === 122 ||
        (event.ctrlKey && event.key === 'w') ||
        (event.ctrlKey && event.key === 'r') ||
        (event.ctrlKey && event.key === 't') ||
        (event.metaKey && event.key === 'w') ||
        (event.metaKey && event.key === 'r') ||
        (event.metaKey && event.key === 't') ||
        event.key === 'F5') {
        event.preventDefault();
        event.stopPropagation();
        return false;
      }
    }, true);

    // Initialize on load
    window.addEventListener('load', function () {
      console.log('Keyboard Play Page Ready! Press any key to start the fun! 🎉');
    });
  </script>
</body>

</html>